<!DOCTYPE html>
<html lang="vi" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Đăng nhập | Hotel Search</title>
    <meta name="description" content="Đăng nhập hệ thống Hotel Search" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/app.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <a href="#loginForm" class="skip-link">Bỏ qua tới form đăng nhập</a>
    <header class="app-header no-print">
      <div class="app-header-inner">
        <div class="brand">
          <span class="logo"><i class="fa-solid fa-hotel"></i></span>
          <span>Hotel Search Admin</span>
        </div>
        <div class="flex gap-sm center" style="margin-left: auto">
          <div class="clock" aria-label="Đồng hồ thời gian thực">--:--:--</div>
          <button
            id="themeToggle"
            type="button"
            class="btn btn-outline btn-pill"
            title="Đổi giao diện (Alt+D)"
          >
            <i class="fa-solid fa-circle-half-stroke"></i>
          </button>
        </div>
      </div>
    </header>

    <main
      class="container"
      style="
        min-height: calc(100vh - 140px);
        display: flex;
        align-items: center;
        justify-content: center;
      "
    >
      <form
        id="loginForm"
        method="POST"
        action="/login"
        class="glass-card gradient animate-fade-in"
        style="max-width: 440px; width: 100%"
      >
        <h1 class="gradient-text" style="font-size: 1.6rem; margin: 0 0 6px">
          Đăng nhập
        </h1>
        <p
          class="text-secondary"
          style="
            margin-top: 0;
            margin-bottom: var(--spacing-md);
            font-size: 0.82rem;
            letter-spacing: 0.5px;
          "
        >
          Nhập thông tin tài khoản để tiếp tục.
        </p>
        <div class="form-row">
          <div class="form-col" style="flex: 1 1 100%">
            <label for="username">Tên đăng nhập</label>
            <div class="input-group">
              <span class="input-icon"><i class="fa-solid fa-user"></i></span>
              <input
                id="username"
                name="username"
                type="text"
                class="has-icon"
                autocomplete="username"
                required
                placeholder="Tên đăng nhập"
              />
            </div>
          </div>
          <div class="form-col" style="flex: 1 1 100%">
            <label for="password">Mật khẩu</label>
            <div class="input-group">
              <span class="input-icon"><i class="fa-solid fa-lock"></i></span>
              <input
                id="password"
                name="password"
                type="password"
                class="has-icon"
                autocomplete="current-password"
                required
                placeholder="••••••••"
              />
            </div>
          </div>
        </div>
        <div
          class="flex gap-sm"
          style="
            margin-top: var(--spacing-md);
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
          "
        >
          <button
            type="submit"
            class="btn btn-primary btn-modern"
            style="flex: 1"
          >
            <i class="fa-solid fa-right-to-bracket"></i><span>Đăng nhập</span>
          </button>
          <button
            type="button"
            id="showAbout"
            class="btn btn-outline btn-small"
            style="height: 42px"
          >
            <i class="fa-solid fa-circle-info"></i><span>Thông tin</span>
          </button>
        </div>
        <div class="card-footer">
          © <span id="year"></span> Hotel Search. All rights reserved.
        </div>
      </form>
    </main>
    <footer class="app-footer text-tertiary">
      Built with a custom glassmorphism design system.
    </footer>

    <script type="module" src="/ui.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        // Year stamp
        document.getElementById("year").textContent = new Date().getFullYear();
        // Theme toggle sync with localStorage
        const btn = document.getElementById("themeToggle");
        const applyIcon = () => {
          const th = document.documentElement.getAttribute("data-theme");
          btn.innerHTML =
            th === "light"
              ? '<i class="fa-solid fa-sun"></i>'
              : '<i class="fa-solid fa-moon"></i>';
        };
        btn.addEventListener("click", () => {
          const cur = document.documentElement.getAttribute("data-theme");
          const next = cur === "dark" ? "light" : "dark";
          document.documentElement.setAttribute("data-theme", next);
          localStorage.setItem("theme", next);
          applyIcon();
        });
        // load stored theme
        const stored = localStorage.getItem("theme");
        if (stored) {
          document.documentElement.setAttribute("data-theme", stored);
        }
        applyIcon();
        // About modal
        document.getElementById("showAbout").addEventListener("click", () => {
          import("/ui.js").then((m) => {
            m.Modal.open(
              `<h2 class='modal-header'>Giới thiệu</h2><p style='margin:0 0 12px;font-size:.9rem;line-height:1.5'>Giao diện mới áp dụng glassmorphism, gradient, và accessibility cải thiện.</p><div class='modal-actions'><button class='btn btn-outline' data-close>Đóng</button></div>`,
              { onClose: null }
            );
            const closeBtn = document.querySelector(".modal [data-close]");
            if (closeBtn)
              closeBtn.addEventListener("click", () =>
                document.querySelector(".modal-overlay")?.remove()
              );
          });
        });
      });
    </script>
  </body>
</html>
